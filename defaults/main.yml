---
rsyslog_user: root
rsyslog_group: adm

#Main rsyslog.conf
rsyslog_working_dir: "/var/spool/rsyslog"
rsyslog_modules_conf: |
  module(load="imuxsock")
  module(load="imklog" permitnonkernelfacility="on")
  module(load="imfile")
rsyslog_global_conf: |
  $ActionFileDefaultTemplate RSYSLOG_TraditionalFileFormat
  $RepeatedMsgReduction on
  $FileOwner root
  $FileGroup root
  $FileCreateMode 0600
  $DirCreateMode 0755
  $Umask 0022
  $PrivDropToUser root
  $PrivDropToGroup root
rsyslog_rules_conf: |
  auth,authpriv.*         /var/log/auth.log
  *.*;auth,authpriv.none  -/var/log/syslog
  kern.*                  -/var/log/kern.log
  mail.*                  -/var/log/mail.log
  mail.err                /var/log/mail.err
  *.emerg                 :omusrmsg:*

#Forward configuration
rsyslog_d_forward: []
#  - name: fwd_default
#    server: rsyslog-server-vip.exemple.com
#    port: 514
#    proto: udp
#    template: '"%TIMESTAMP:::date-rfc3339% %hostname% %syslogpriority-text% %syslogfacility-text% %programname% %msg:::sp-if-no-1st-sp%%msg:::drop-last-lf%"'

#include existing files in template starting from 10 and 20
rsyslog_d_default: []

#Read specific log file
rsyslog_d_apps: []
#  - type: imfile
#    file: /var/log/apt-cacher-ng/apt-cacher.log
#    tag: acng
#    severity: notice
#    facility: local3
#  - file: /var/log/apt-cacher-ng/apt-cacher.err
#    tag: acng
#    severity: error

#Remove installed conf
rsyslog_d_remove: []
